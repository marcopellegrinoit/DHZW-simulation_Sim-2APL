library(ggplot2)
library(readr)
library(this.path)
library(tidyr)
setwd(this.dir())
df <- read_csv("../uncalibrated_parameterset/output_proportions.csv")
# Convert dataframe to long format
df <- cbind(index = 1:nrow(df), df)
df <- df %>%
pivot_longer(!index, names_to = 'mode_choice', values_to = 'proportion')
# Create the grouped bar plot
ggplot(df, aes(x = mode_choice, y = proportion, fill = factor(index))) +
geom_bar(stat = "identity", position = "dodge") +
xlab("Mode choice") +
ylab("Proportion") +
ggtitle("Comparison of several runs") +
labs(fill = "Iteration ID") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
